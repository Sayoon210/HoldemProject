# Texas Hold'em Web Game Project Plan

이 문서는 프로젝트의 진행 상황에 따라 지속적으로 업데이트되는 마스터 플랜입니다.

## 1. 프로젝트 개요
- **장르**: 텍사스 홀덤 (No-Limit)
- **플랫폼**: 웹 게임 (멀티플레이어 지원)
- **최대 인원**: 6명
- **핵심 특징**: 실시간 네트워킹, 족보 자동 계산, 베팅 시스템

## 2. 게임 규칙 및 메커니즘
### 족보 위계 (내림차순)
1.  **스트레이트 플러쉬 (Straight Flush)**: 같은 문양의 연속된 5장
2.  **포카인드 (Four of a Kind)**: 숫자가 같은 카드 4장
3.  **풀하우스 (Full House)**: 트리플 + 원 페어
4.  **플러쉬 (Flush)**: 같은 문양 5장
5.  **스트레이트 (Straight)**: 숫자가 연속된 카드 5장
6.  **트리플 (Three of a Kind)**: 숫자가 같은 카드 3장
7.  **투 페어 (Two Pair)**: 숫자가 같은 카드 2쌍
8.  **원 페어 (One Pair)**: 숫자가 같은 카드 1쌍
9.  **하이 카드 (High Card)**: 아무런 족보가 없을 때 높은 숫자 기준

### 베팅 시스템 (Betting System)
- **기본 단위**: 토큰 1개
- **시작 자금**: 각 플레이어당 25개
- **블라인드(Blinds) 규칙**:
    - **조커(Joker) 표식**: 매 판마다 베팅의 시작점이 되는 플레이어에게 '조커' 표식을 부여함.
    - 조커 표식 기준 바로 이전 순서: 토큰 2개 강제 베팅
    - 그 이전 순서: 토큰 1개 강제 베팅
- **게임 라운드 흐름 (Round Flow)**:
    1.  **프리플랍 (Pre-flop)**: 커뮤니티 카드 공개 전. 2 hole cards 배분. '2개 콜' 또는 '폴드'만 가능 (레이즈 불가).
    2.  **플랍 (Flop)**: 커뮤니티 카드 **3장** 공개. 이후 베팅 (체크/레이즈/폴드 가능).
    3.  **턴 (Turn)**: 커뮤니티 카드 **1장** 추가 공개. 이후 베팅.
    4.  **리버 (River)**: 커뮤니티 카드 **마지막 1장** 공개.
    5.  **최종 베팅 & 쇼다운 (Showdown)**: 리버 공개 후 마지막 베팅을 진행하며, 폴드하지 않은 모든 인원의 패를 공개하여 승자 결정.
- **승자 판칙 및 상금 배분 (Winner Determination)**:
    - **승자 결정 순서**: 족보 > 하이카드(숫자) > 문양(스페이드가 최고).
    - **무승부 (Draw)**: 숫자와 문양 위계(스페이드 포함)로도 승패를 가릴 수 없는 경우 무승부로 판정.
    - **판돈 분배 (Pot Split)**: 무승부 발생 시 판돈을 승자 수($n$)로 **정수 나눗셈**하여 배분.
    - **잔여 토큰 이월**: 나눗셈 후 남는 **나머지(Remainder)** 토큰은 다음 판(Next Hand)으로 이월하여 합산.
- **베팅 제한 및 특수 규칙**:
    - **최대 베팅 제한**: 1회 베팅 시 최대 **10토큰**으로 제한.
    - **제한 해제**: 테이블에 플레이어가 **3명 이하**로 남을 경우, 10토큰 제한이 해제됨 (무제한 레이즈 가능).
    - **올인(All-in) 사이드 팟**: 
        - 자신의 잔여 토큰보다 더 적은 금액으로 올인한 플레이어(예: 3개 보유)는 승리 시 각 플레이어로부터 최대 자신이 베팅한 금액(3개)만큼만 가져올 수 있음.
        - 초과된 판돈은 나머지 플레이어들끼리의 사이드 팟으로 처리.


## 3. 문서 링크
- [기술 사양 문서 (tech_spec.md)](./tech_spec.md)
- [디자인 사양 문서 (design_spec.md)](./design_spec.md)
